# AR.IO Bundler Lite - x402 Configuration
# Copy this file to .env and fill in your values

#############################################
# Service Configuration
#############################################
NODE_ENV=development
PORT=3001
LOG_LEVEL=info

#############################################
# Database Configuration
#############################################
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_DATABASE=bundler_lite
DB_POOL_MIN=2
DB_POOL_MAX=10

#############################################
# Redis Configuration
#############################################
REDIS_CACHE_HOST=localhost
REDIS_CACHE_PORT=6379
REDIS_QUEUE_HOST=localhost
REDIS_QUEUE_PORT=6381

#############################################
# Object Storage (MinIO/S3)
#############################################
AWS_REGION=us-east-1
AWS_ENDPOINT=http://localhost:9000
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin
AWS_S3_BUCKET=bundler-data-items
AWS_S3_FORCE_PATH_STYLE=true

#############################################
# Arweave Configuration
#############################################
ARWEAVE_GATEWAY=https://arweave.net
ARWEAVE_WALLET_FILE=/path/to/your/arweave-wallet.json
# OR provide wallet as JSON string:
# ARWEAVE_WALLET={"kty":"RSA","n":"..."}

#############################################
# x402 Payment Configuration
#############################################
# Your EVM address to receive USDC payments
X402_PAYMENT_ADDRESS=0xYourEthereumAddress

# Network configuration (JSON)
# For testnet (no CDP credentials needed):
X402_NETWORKS={"base-sepolia":{"enabled":true,"rpcUrl":"https://sepolia.base.org","usdcAddress":"0x036CbD53842c5426634e7929541eC2318f3dCF7e","facilitatorUrl":"https://x402.org/facilitator"}}

# For mainnet (requires Coinbase CDP):
# X402_NETWORKS={"base-mainnet":{"enabled":true,"rpcUrl":"https://mainnet.base.org","usdcAddress":"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913","facilitatorUrl":"https://facilitator.base.coinbasecloud.net"}}

# Coinbase CDP Credentials (REQUIRED for mainnet)
# Get from https://portal.cdp.coinbase.com/
CDP_API_KEY_ID=
CDP_API_KEY_SECRET=

# x402 Settings
X402_FRAUD_TOLERANCE_PERCENT=5
X402_PRICING_BUFFER_PERCENT=5
X402_PAYMENT_TIMEOUT_MS=300000

#############################################
# Bundling Configuration
#############################################
MAX_DATA_ITEM_SIZE=10737418240
BUNDLE_SIZE_LIMIT=250000000
ENABLE_OPTICAL_POSTING=false

#############################################
# Optional: Allow-listed Addresses (Free Uploads)
#############################################
ALLOW_LISTED_ADDRESSES=

#############################################
# Optional: AR.IO Gateway Integration
#############################################
# OPTICAL_BRIDGE_URL=http://localhost:4000/ar-io/admin/queue-data-item
# AR_IO_ADMIN_KEY=your-admin-key

#############################################
# Admin Dashboard Configuration
#############################################
# Generate secure password with: openssl rand -hex 32
ADMIN_USERNAME=admin
ADMIN_PASSWORD=
BULL_BOARD_PORT=3002
